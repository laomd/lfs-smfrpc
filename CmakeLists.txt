cmake_minimum_required(VERSION 3.11)
project(lao_hdfs VERSION 0.1)

list(APPEND CMAKE_MODULE_PATH ${CMAKE_CURRENT_LIST_DIR}/cmake)
set(CMAKE_EXPORT_COMPILE_COMMANDS 1)

set(ENV{PKG_CONFIG_PATH} "$PKG_CONFIG_PATH:/usr/lib64/pkgconfig:/usr/local/lib64/pkgconfig:/usr/local/lib/pkgconfig")
find_package(PkgConfig REQUIRED)

link_libraries(smf)
include_directories(${PROJECT_SOURCE_DIR})

enable_testing()
add_subdirectory(unit)

file(COPY ${CMAKE_CURRENT_BINARY_DIR}/compile_commands.json
     DESTINATION ${PROJECT_SOURCE_DIR})
